<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="./static/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />
    <meta name="generator" content="Marmite" />
    
<meta property="og:title" content="Minha instala√ß√£o do Arch Linux">

<meta property="og:description" content="Um roteiro de como eu instalo o Arch Linux">



<meta property="og:url" content="https://blog.jonatasoliveira.dev/minha-instalac-a-o-do-arch-linux.html">

<meta property="og:type" content="article">
<meta property="og:site_name" content="Jonatas">

<meta property="article:published_time" content=" 2021-01-08T00:00:00+00:00">


<meta property="article:author" content="https://blog.jonatasoliveira.dev/author-J√¥natas Luiz de Oliveira.html">


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.jonatasoliveira.dev/minha-instalac-a-o-do-arch-linux.html"
    },
    "url": "https://blog.jonatasoliveira.dev/minha-instalac-a-o-do-arch-linux.html",
    "headline": "Minha instala√ß√£o do Arch Linux",
    "description": "Um roteiro de como eu instalo o Arch Linux",
    
    "author": {
        "@type": "Person",
        "name": "J√¥natas Luiz de Oliveira",
        "url": "https://blog.jonatasoliveira.dev/author-J√¥natas Luiz de Oliveira.html",
    },
    "publisher": {
        "@type": "Organization",
        "name": "Jonatas",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog.jonatasoliveira.dev/"
        }
    },
    "datePublished": "2021-01-08T00:00:00+00:00"
}
</script>


    <title>Minha instala√ß√£o do Arch Linux | Jonatas</title>
    <link rel="stylesheet" type="text/css" href="./static/pico.min.css">
    <link rel="stylesheet" type="text/css" href="./static/marmite.css">
    
    <link rel="stylesheet" type="text/css" href="./static/colorschemes/catppuccin.css">
    
    <link rel="stylesheet" type="text/css" href="./static/custom.css">
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/github.min.css" id="highlightjs-theme" />



    <link rel="alternate" type="application/rss+xml" title="index" href="index.rss">
    <link rel="alternate" type="application/rss+xml" title="author: J√¥natas Luiz de Oliveira" href="author-jonatas-luiz-de-oliveira.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2025" href="archive-2025.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2024" href="archive-2024.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2022" href="archive-2022.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2021" href="archive-2021.rss">
    

    
    
    
</head>
<body>
    
    <div class="container-fluid announcement-wrapper">
        <div class="announcement"><p>Fastecommerce agora √© o Capicart de uma ‚òÜ no <a href="https://github.com/jonatasoli/capi-cart">github</a></p>
</div>
    </div>
    
    <main class="container">
        
        <header class="header-content">
            <nav class="header-nav">
                <ul class="header-name">
                    <li>
                        <hgroup>
                            <h2><a href="./" class="contrast">Jonatas</a></h2>
                             <p>Aprendendo a fazer jogos e se aventurando pelo Rust e Python</p> 
                        </hgroup>
                    </li>
                </ul>
                <button id="menu-toggle" class="hamburger">&#9776;</button>
                
                <ul class="header-menu" id="header-menu">
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="./tags.html">Tags</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="./archive.html">Archive</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="https://github.com/oliveira-mark" target="_blank" >Github</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="https://www.linkedin.com/in/jonatasoliveirame/" target="_blank" >Linkedin</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="https://www.youtube.com/@devjonatas" target="_blank" >Youtube</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="https://www.twitch.tv/devjonatas" target="_blank" >Twitch</a>
                        
                    </li>
                    
                    <li><span class="theme-toggle secondary" title="dark mode">&#9789;</span></li>
                    
                    <li><a href="#" id="search-toggle" class="secondary" title="Search (Ctrl + Shift + F)"> <span class="search-txt">Search</span><span class="search-magnifier"></span></a></li>
                    
                    <div class="underline"></div>
                </ul>
            </nav>
            
            <div class="marmite-background-overlay" id="overlay-close"></div>
            <div class="marmite-search-bar hidden">
                <span></span>
                <button class="marmite-close-button" id="search-close">X</button>
                <input placeholder="Search" id="marmite-search-input" />
                <div class="marmite-search-bar-result">
                    <ul id="marmite-search-bar-result"></ul>
                </div>
            </div>
            
        </header>
        
        <section class="main-content">
            



<article>

  


<div class="content-title" id="title">
    <h1>Minha instala√ß√£o do Arch Linux</h1> 
    


<span class="content-date">
    <small> Jan  8, 2021 - &#10710; 6 min</small>
</span>

</div>

  
  <div class="content-toc">
    <a href="#" id="toc"></a>
    <details>
    <summary>üóíÔ∏è</summary>
    <ul>
<li><a href="#instala√ß√£o-do-arch-linux">Instala√ß√£o do Arch Linux</a></li>
<ul>
<li><a href="#verificando-uefi-mode">Verificando UEFI Mode</a></li>
<li><a href="#gerando-o-particionamento">Gerando o particionamento</a></li>
<li><a href="#montando-os-filesystems">Montando os filesystems</a></li>
<li><a href="#instala√ß√£o">Instala√ß√£o</a></li>
<li><a href="#hostname">Hostname</a></li>
<li><a href="#gest√£o-do-user">Gest√£o do USER</a></li>
<li><a href="#pacotes-adicionais">Pacotes adicionais</a></li>
<li><a href="#grub">Grub</a></li>
<li><a href="#p√≥s-instala√ß√£o">P√≥s Instala√ß√£o</a></li>
</ul>
</ul>

    </details>
  </div>
  

  <div class="content-html"><!-- Content Injected to every content markdown header -->
<h1><a href="#instala√ß√£o-do-arch-linux" aria-hidden="true" class="anchor" id="instala√ß√£o-do-arch-linux"></a>Instala√ß√£o do Arch Linux</h1>
<p>Bom come√ßando 2021 com um blog novo decidi compartilhar o meu roteiro para instalar o Arch Linux com algumas explica√ß√µes.</p>
<p>No long√≠nquo ano de 2004 eu brincava com instala√ß√µes complicadas como o FreeBSD, Gentoo e o Slackware, foi uma boa base para aprender muito, com todos os kernel panics  da vida,
mas minha vida com o pinguim naquela √©poca ainda era s√≥ uma curiosidade, pois trabalhava com Delphi e ambiente Windows al√©m de que nessa √©poca era bem complicado jogar no Linux.</p>
<p>Desde de 2014 voltei a trabalhar usando Linux inicialmente como freelance e depois na minha ocupa√ß√£o principal, um pouco isso se deve ao trabalho do Dionatan do <a href="https://diolinux.com.br/">Diolinux</a>, mas desde ent√£o conhecim uma distro que n√£o havia conhecido l√° no come√ßo dos anos 2000 que era o Arch linux, gostei muito da ideia do Pacman que √© muito parecido com o Brew do MacOs, mas mesmo assim sempre fiquei nas distros ubuntu like pois era um sistema que eu tinha mais familiaridade.</p>
<p>Esse ano de 2021 vai ser um ano atipico pra mim eu nesse momento estou usando um Mac, mas no meio do ano vou trabalhar alguns meses numa esta√ß√£o Windows at√© que mais pro final do
ano estou pensando em pegar um notebook da <a href="https://system76.com/">System76</a>, ent√£o no per√≠do entre festas ali de 2020 eu decidi me aventurar em fazer uma instala√ß√£o do Arch numa
virtualbox para ter um roteiro pronto pra usar no meio do ano pra voltar a usar o Arch.</p>
<p>Um ponto importante √© que l√° por 2017 eu comecei a usar o xubuntu com o gerenciador de janelas i3, antes de come√ßar a usar o mac estava usando o <a href="https://xmonad.org/">Xmonad</a> nesse guia eu levo em considera√ß√£o a instala√ß√£o do Xmonad pois j√° tenho meus arquivos de configura√ß√£o que basicamente devo copiar, caso tenha interesse voc√™ pode ver no meu <a href="https://github.com/jonatasoli/dotfiles">GitHub</a>.</p>
<p>Um disclamer antes do guia, na verdade eu achei a configura√ß√£o do Arch relativamente tranquila, a <a href="https://wiki.archlinux.org/index.php/installation_guide">documenta√ß√£o oficial</a>,
al√©m de que pra mim me enrolei em alguns pontos que n√£o est√£o muitos explicitos ali, ent√£o por isso fiz esse guia, dois v√≠deos que me ajudaram muito foi esse do <a href="https://www.youtube.com/watch?v=4orYC5ARfn8&amp;t=3212s">Diolinux</a> e essa do <a href="https://www.youtube.com/watch?v=PQgyW10xD8s&amp;t=1340s">Derek Taylor</a>, que alias tamb√©m tem materiais muitos bons.</p>
<h2><a href="#verificando-uefi-mode" aria-hidden="true" class="anchor" id="verificando-uefi-mode"></a>Verificando UEFI Mode</h2>
<ul>
<li>Verificar o bootmode se o comando abaixo der erro √© por que est√° no UEFI mode
Pode ser que essa pasta n√£o exista ai o computador n√£o tem suporte a UEFI</li>
</ul>
<pre><code>ls /sys/firmware/efi/efivars
</code></pre>
<h2><a href="#gerando-o-particionamento" aria-hidden="true" class="anchor" id="gerando-o-particionamento"></a>Gerando o particionamento</h2>
<p>Aqui acredito que √© algo bem pessoal, cada um organiza do jeito que acha melhor eu particularmente uso um / /boot /home /swap usando uma estrutura de parti√ß√µes GPT, caso voc√™ n√£o
saiba o que √© de uma olhada <a href="https://sempreupdate.com.br/quais-as-diferencas-entre-gpt-guid-e-mbr/">nesse artigo do sempreupdate</a>.</p>
<ul>
<li>Particionar o disco</li>
</ul>
<pre><code>fdisk -l #lista discos
fdisk /dev/sda # ou o disco que vc quer particionar
exemplo de cria√ß√£o com comandos para o /boot
- n
- 1
- 2048
- +200M

# Pra criar uma parti√ß√£o existente como swap
- t
- 2 # numero da parti√ß√£o
- 19 # C√≥digo do swap

# Bootloader
- t
- 1
- 1 # EFI Filesystem ou 4 bios boot se for MBR
</code></pre>
<p>Agora precisamos formatar as parti√ß√µes pra isso usamos o <code>mkfs</code> e no caso do swap usamos o <code>mkwap e swapon</code>.</p>
<ul>
<li>Formatar parti√ß√µes</li>
</ul>
<pre><code>mkfs.ext4 /dev/sda1

# Swap
mkswap /dev/sda2
swapon /dev/sda2
</code></pre>
<ul>
<li>Instalar dostools</li>
</ul>
<pre><code>pacman -S dosfstools
</code></pre>
<ul>
<li>Formatar a parti√ß√£o do boot</li>
</ul>
<pre><code>mkfs.fat -F 32 /dev/sda1
# Pode ser BIOS boot ou EFI que √© a op√ß√£o 1
</code></pre>
<h2><a href="#montando-os-filesystems" aria-hidden="true" class="anchor" id="montando-os-filesystems"></a>Montando os filesystems</h2>
<p>Bom o pr√≥ximo passo √© montar o filesystem para fazer a instala√ß√£o al√©m de montar os diret√≥rios que v√£o ficar separados em parti√ß√µes diferentes como o /boot e o /home. Acho bom
enfatizar que o nome das parti√ß√µes vai variar dependendo de como voc√™ particionou, no meu caso vai ser /dev/sda1 /dev/sda2 /dev/sda3 e /dev/sda4, por√©m abaixo deixei da forma mais
gen√©rica.</p>
<ul>
<li>Montar o filesystem</li>
</ul>
<pre><code>mount /dev/root_partition /mnt
</code></pre>
<ul>
<li>Criar pastas de boot e home</li>
</ul>
<pre><code>mkdir /mnt/home
mkdir /mnt/boot/ # caso EFI tem que ser /mnt/boot/EFI
</code></pre>
<ul>
<li>Montar o filesystem</li>
</ul>
<pre><code>mount /dev/mount-boot /mnt/boot
mount /dev/mount-home /mnt/home
</code></pre>
<h2><a href="#instala√ß√£o" aria-hidden="true" class="anchor" id="instala√ß√£o"></a>Instala√ß√£o</h2>
<p>Bom agora chegou a hora da instala√ß√£o, como voc√™ vai ver √© bem simples:</p>
<ul>
<li>instalar os pacotes b√°sicos</li>
</ul>
<pre><code>pacstrap /mnt base base-devel linux linux-firmware
</code></pre>
<p>Agora vamos gerar o fstab, se n√£o sabe o que √© o fstab da uma conferida nesse <a href="https://www.youtube.com/watch?v=C63VJV3sOos">v√≠deo do Diolinux</a>.</p>
<ul>
<li>Gerar o fstab</li>
</ul>
<pre><code>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</code></pre>
<p>Agora vamos montar o root do arch linux.</p>
<ul>
<li>Mudar a montagem pra root</li>
</ul>
<pre><code>arch-chroot /mnt
</code></pre>
<ul>
<li>Setar hora local</li>
</ul>
<pre><code>ln -sf /usr/share/zoneinfo/America/Sao_Paulo /etc/localtime
hwclock --systohc
</code></pre>
<ul>
<li>Instalar o neovim ou editor da sua prefer√™ncia.</li>
</ul>
<pre><code>pacman -Sy neovim
</code></pre>
<ul>
<li>Editar o arquivo /etc/locale.gen e descomentar o en-UTF8 ou a lingua que voc√™ usa como pt_BR-UTF8</li>
</ul>
<pre><code># depois gerar os arquivos
locale-gen
</code></pre>
<ul>
<li>Criar arquivo /etc/locale.conf e add a linguagem padr√£o do sistema</li>
</ul>
<pre><code>LANG=en_US.UTF-8
</code></pre>
<h2><a href="#hostname" aria-hidden="true" class="anchor" id="hostname"></a>Hostname</h2>
<ul>
<li>
<p>Add o hostname em /etc/hostname</p>
</li>
<li>
<p>Editar o /etc/hosts</p>
</li>
</ul>
<pre><code>/etc/hosts

127.0.0.1	localhost
::1		localhost
127.0.1.1	myhostname.localdomain	myhostname
</code></pre>
<h2><a href="#gest√£o-do-user" aria-hidden="true" class="anchor" id="gest√£o-do-user"></a>Gest√£o do USER</h2>
<ul>
<li>Definir senha do root</li>
</ul>
<pre><code>passwd
</code></pre>
<ul>
<li>Add user</li>
</ul>
<pre><code>useradd -m -g users -G wheel,audio,video,storage nome_desejado_para_o_usuario
</code></pre>
<ul>
<li>Add no /etc/sudoers</li>
</ul>
<pre><code>myuser ALL=(ALL) ALL
</code></pre>
<p>Atualizar agora o usu√°rio que eu criei com o passwd.</p>
<pre><code>passwd nome_desejado_para_o_usuario
</code></pre>
<h2><a href="#pacotes-adicionais" aria-hidden="true" class="anchor" id="pacotes-adicionais"></a>Pacotes adicionais</h2>
<ul>
<li>Instalar pacotes adicionais (pra wifi continuar funcionando no pos instala√ß√£o)</li>
</ul>
<pre><code>pacman -S dosfstools os-prober mtools network-manager-applet networkmanager wpa_supplicant wireless_tools dialog sudo
</code></pre>
<h2><a href="#grub" aria-hidden="true" class="anchor" id="grub"></a>Grub</h2>
<p>Acho que foi a parte que mais me enrosquei, importante que precisa j√° ter criado e formatado, al√©m disso aqui √© importante que ele usa pacotes diferentes dependendo do tipo da sua
parti√ß√£o do boot.</p>
<ul>
<li>Instalar o GRUB</li>
</ul>
<pre><code>pacman -S grub os-prober

# MBR

grub-install --target=i386-pc --recheck /dev/sda

# EFI
pacman -S efibootmgr
grub-install --target=x86_64-efi --bootloader-id=grub_uefi --recheck

CONFIG
grub-mkconfig -o /boot/grub/grub.cfg

</code></pre>
<h2><a href="#p√≥s-instala√ß√£o" aria-hidden="true" class="anchor" id="p√≥s-instala√ß√£o"></a>P√≥s Instala√ß√£o</h2>
<p>Primeiro vou habilitar o networkmanager pois sen√£o n√£o vai habilitar a rede.</p>
<ul>
<li>H√°bilitar o network manager</li>
</ul>
<pre><code>systemctl enable NetworkManager
</code></pre>
<p>Depois disso reinicio e testo atrav√©s de um ping se est√° funcionando a rede al√©m √© claro de logar com o meu usu√°rio, agora pra usar o pacman vamos usar o sudo.</p>
<ul>
<li>Instalar o b√°sico pra usar o Xmonad e algumas aplica√ß√µes</li>
</ul>
<pre><code>sudo pacman -Syy xorg xorg-xinit xf86-video-fbdev(ou sua placa de video) nitrogen picom firefox neovim ranger rxvt-unicode
sudo pacman -Syy lightdm lightdm-gtk-greeter xmonad xmonad-contrib xmobar dmenu kitty
</code></pre>
<p>Ali instalo dois terminais o urxvt e o kitty, isso acontece pois quando fiz a instala√ß√£o tive problemas com o kitty no inicio da configura√ß√£o, ent√£o uso o urxvt e depois de copiar
todas as minhas configs eu mudo para o kitty, j√° que o cara√ß√£o de usar um tilling manager √© ter acesso f√°cil ao terminal.</p>
<ul>
<li>Configurar o .xinitrc copiando o exemplo do xorg pra sua home</li>
</ul>
<pre><code>cp /etc/X11/xinit/xinitrc .xinitrc
</code></pre>
<ul>
<li>Adicionar o arquivo o start do nitrogen do picom e do xmonad</li>
</ul>
<pre><code># Remover
twm &amp;
...
exec xterm -geometry 80x66+0+0 -name login

#Adicionar
exec xmonad
</code></pre>
<p>Bom com essa configura√ß√£o eu j√° consigo iniciar o Xmonad, eu gosto de deixar ele funcional j√° por que se houver algum problema pra subir o Xorg ou o Xmonad ele ainda vai entrar em
modo texto.</p>
<ul>
<li>Testar a inicializa√ß√£o</li>
</ul>
<pre><code>startx
</code></pre>
<p>Bom agora aqui eu copio meus arquivos de configura√ß√£o, se voc√™ n√£o tem os seus pode usar o meu <a href="https://github.com/jonatasoli/dotfiles">clicando aqui</a>.</p>
<ul>
<li>Copiar os arquivos de configura√ß√£o do xmonad e do xmobar</li>
</ul>
<pre><code># criar diret√≥rio .xmonad
# criar diret√≥rio .config/xmobar

Normalmente eu reinicio logo novamente e dou um startx s√≥ pra ter certeza que tudo est√° funcionando, ai sim eu habilito o lightdm pra iniciar tudo j√° no modo gr√°fico.
</code></pre>
<ul>
<li>Habilitar o lightdm</li>
</ul>
<pre><code>sudo systemctl enable lightdm
</code></pre>
<p>Depois disso, eu come√ßo a configurar o meu ambiente de desenvolvimento mas, o sistema j√° est√° pronto pra ser usado. Caso tenham alguma d√∫vida pode colocar nos coment√°rios que ajudo
da melhor maneira que conseguir.</p>
<!-- Content Injected to every content markdown footer -->
</div>
  
  <footer class="data-tags-footer">

    <div class="content-authors-flex">
      <div class="content-authors-full">
        
<div class="content-authors">
    <ul>
        
            
            
            <li >
                <a class="secondary" href="author-J√¥natas Luiz de Oliveira.html">
                    <img src="static/avatar-placeholder.png" alt="J√¥natas Luiz de Oliveira" class="avatar">
                    J√¥natas Luiz de Oliveira
                </a>
            </li>
            
        
    </ul>
</div>


      </div>

      <div class="date-tags-container">
        <div class="content-date">
          


<span class="content-date">
    <small> Jan  8, 2021 - &#10710; 6 min</small>
</span>

        </div>

        <ul class="content-tags">
          
        </ul>
      </div>
    </div>
  </footer>
  
</article>




    <article><h5><a href="#coment√°rios" aria-hidden="true" class="anchor" id="coment√°rios"></a>Coment√°rios</h5>
<p><strong>remove</strong> the file to disable comments</p>
<script src='https://utteranc.es/client.js'
repo='rochacbruno/issue-bin'
issue-term='pathname'
theme='preferred-color-scheme'
crossorigin='anonymous'
async>
</script>
</article>



        </section>
        
        <footer class="footer-content grid">
            <strong>Copyright Singular Journey</strong>
            
        </footer>
        
    </main>

    <script src="./static/marmite.js"></script>
    <script src="./static/custom.js"></script>
    
    <script type="module" src="./static/search.js"></script>
    
    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/highlight.min.js"></script>
<script>
  hljs.highlightAll();
</script>



</body>
</html>
